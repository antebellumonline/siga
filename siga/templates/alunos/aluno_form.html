<!-- templates/alunos/aluno_form.html -->

{% extends 'base.html' %}

{% block title %}{{ form.instance.pk|yesno:"Editar Aluno,Adicionar Aluno" }}{% endblock %}

{% block content %}
<h2 class="page-title">{{ form.instance.pk|yesno:"Editar Aluno,Adicionar Aluno" }}</h2>

<form method="post" class="edit-form">
    {% csrf_token %}
    <div class="form-group-edit">
        <div class="form-group-edit-sub">
            <h4 class="sub-section-title">Dados Cadastrais</h4>
            <div>
                <label for="id_nome"><strong>Nome: </strong></label>
                {{ form.nome }}
            </div>
            <div>
                <label for="id_cpf"><strong>CPF: </strong></label>
                {{ form.cpf }}
            </div>
        </div>

        <div class="form-group-edit-sub">
            <h4 class="sub-section-title">Endereço</h4>
            <div>
                <label for="id_cep"><strong>CEP: </strong></label>
                {{ form.cep }}
            </div>
            <div>
                <label for="id_logradouro"><strong>Logradouro: </strong></label>
                {{ form.endereco }}
            </div>
            <div>
                <label for="id_numero"><strong>Nº: </strong></label>
                {{ form.numero }}
            </div>
            <div>
                <label for="id_complemento"><strong>Complemento: </strong></label>
                {{ form.complemento }}
            </div>
            <div>
                <label for="id_bairro"><strong>Bairro: </strong></label>
                {{ form.bairro }}
            </div>
            <div>
                <label for="id_cidade"><strong>Cidade / UF: </strong></label>
                {{ form.cidade }}
            </div>
        </div>
        <!-- Contatos -->
        <div class="form-group-edit-sub">
            <h4 class="sub-section-title">Contatos</h4>
            {{ formset.management_form }}
            <div id="contato-formset">
                {% for form in formset %}
                    <div class="formset-row">
                        {{ form.as_p }}
                    </div>
                {% endfor %}
            </div>
            <button type="button" id="add-contact">Adicionar outro contato</button>
        </div>
    </div>

    <!-- Grupo de botões (Salvar e Retornar) -->
    <div class="btn-group">
        <button class="btn-save" type="submit">Salvar Aluno</button>
        <a class="btn-return" href="{% url 'aluno_home' %}">Retornar</a>
    </div>
</form>

{% endblock %}
